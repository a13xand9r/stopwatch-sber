(this["webpackJsonpstopwatch-sber"]=this["webpackJsonpstopwatch-sber"]||[]).push([[0],{42:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c,r,a,i,o,u,s,j=n(1),b=n.n(j),d=n(28),O=n.n(d),h=(n(42),n(81)),l=n(4),m=n(78),f=n(0),p=n(71),x=n(33),g=n(3),T=function(e){return"".concat(e>9?"":"0").concat(e)},y={character:"sber",ms:0,s:0,m:0,h:0,isGoing:!1,points:[]},S=function(e,t){switch(t.type){case"SET_CHARACTER":return Object(g.a)(Object(g.a)({},e),{},{character:t.characterId});case"SET_H":return Object(g.a)(Object(g.a)({},e),{},{h:t.payload});case"SET_M":return Object(g.a)(Object(g.a)({},e),{},{m:t.payload});case"SET_MS":return Object(g.a)(Object(g.a)({},e),{},{ms:t.payload});case"SET_S":return Object(g.a)(Object(g.a)({},e),{},{s:t.payload});case"START_STOP_WATCH":return Object(g.a)(Object(g.a)({},e),{},{isGoing:!0});case"STOP_STOP_WATCH":return Object(g.a)(Object(g.a)({},e),{},{isGoing:!1});case"CLEAR_TIMER":return Object(g.a)(Object(g.a)({},e),{},{ms:0,s:0,m:0,h:0,points:[]});case"ADD_POINT":var n=Object(x.a)(e.points);return n.length<5&&n.push("".concat(T(e.h),":").concat(T(e.m),":").concat(T(e.s),":").concat(T(e.ms))),Object(g.a)(Object(g.a)({},e),{},{points:n});default:return e}},v=function(e){return{type:"SET_CHARACTER",characterId:e}},_=function(e){return{type:"SET_M",payload:e}},E=function(e){return{type:"SET_MS",payload:e}},R=function(e){return{type:"SET_S",payload:e}},C=function(e){return{type:"SET_H",payload:e}},w=function(){return{type:"CLEAR_TIMER"}},A=function(){return{type:"START_STOP_WATCH"}},k=function(){return{type:"STOP_STOP_WATCH"}},I=function(){return{type:"ADD_POINT"}},M=function(e){return Object(p.a)({getState:e})},P=b.a.createContext(M((function(){}))),W=n(2),H=Object(f.d)(m.a)(c||(c=Object(l.a)(["\n    @media (min-width: 650px) {\n        padding: 1rem;\n    }\n"]))),G=function(){var e=Object(j.useContext)(P);return Object(W.jsx)(H,{minimize:!0,onMinimizeClick:function(){e.close()},back:!1,title:"\u041c\u043e\u0439 \u0441\u0435\u043a\u0443\u043d\u0434\u043e\u043c\u0435\u0440"})},N=n(9),D=n(83),z=n(82),J=n(76),B=n(77),F=b.a.createContext([y,function(){return null}]),L=function(){return Object(j.useContext)(F)},U=Object(f.d)(D.a)(r||(r=Object(l.a)(["\n    max-width: max-content;\n    margin-left: auto;\n    margin-top: -2rem;\n    margin-bottom: 4rem;\n"]))),q=Object(f.d)(z.b)(a||(a=Object(l.a)(["\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n"]))),K=b.a.memo((function(){var e=L(),t=Object(N.a)(e,2),n=t[0];t[1];return Object(W.jsx)(W.Fragment,{children:!!n.points.length&&Object(W.jsx)(U,{children:Object(W.jsx)(J.a,{style:{height:"100%",alignItems:"center"},children:Object(W.jsx)(B.a,{style:{height:"100%"},cover:!1,children:n.points.map((function(e,t){return Object(W.jsxs)(q,{children:["\u041a\u0440\u0443\u0433 ",t+1,": ",e]})}))})})})})})),Q=n(79),V=n(74),X=f.d.div(i||(i=Object(l.a)(["\n    display: flex;\n    justify-content: space-around;\n    /* width: 35rem; */\n    margin: auto;\n    margin-bottom: 3rem;\n"]))),Y=f.d.div(o||(o=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #006eff2d;\n    border-radius: 0.8rem;\n    width: 4rem;\n    height: 5rem;\n"]))),Z=f.d.div(u||(u=Object(l.a)(["\n    width: 31rem;\n    margin: 0 auto;\n    margin-top: 1rem;\n    text-align: center;\n    @media (max-width: 650px) {\n        width: 325px;\n        margin: 0 auto;\n        margin-top: 4rem;\n    }\n"]))),$=Object(f.d)(Q.a)(s||(s=Object(l.a)(["\n    width: 9rem;\n    @media (max-width: 650px) {\n        width: 6.4rem;\n    }\n"]))),ee=b.a.memo((function(){var e=function(){var e=L(),t=Object(N.a)(e,2),n=t[0],c=n.ms,r=n.s,a=n.m,i=n.h,o=n.isGoing,u=n.points,s=t[1],b=Object(j.useRef)(),d=Object(j.useRef)(0),O=Object(j.useRef)(0),h=Object(j.useRef)(0),l=Object(j.useRef)(0),m=Object(j.useRef)(!1);return d.current=c,O.current=r,h.current=a,l.current=i,m.current=o,Object(j.useEffect)((function(){b.current&&clearInterval(b.current),o&&(b.current=setInterval((function(){m.current&&(d.current<99?s(E(d.current+1)):(s(E(0)),O.current<59?s(R(O.current+1)):(s(R(0)),h.current<59?s(_(h.current+1)):(s(_(0)),s(C(l.current+1))))))}),10))}),[o]),{ms:c,s:r,m:a,h:i,startStopWatch:function(){s(A())},pauseStopWatch:function(){s(k())},resetStopWatch:function(){s(k()),s(w())},isGoing:o,addRound:function(){s(I())},roundsNumber:u.length}}(),t=e.h,n=e.m,c=e.isGoing,r=e.ms,a=e.s,i=e.pauseStopWatch,o=e.startStopWatch,u=e.resetStopWatch,s=e.addRound,b=e.roundsNumber,d=Boolean(r||a||n||t);return Object(W.jsxs)(Z,{children:[Object(W.jsx)(V.a,{style:{fontSize:"2.2rem"},children:Object(W.jsxs)(X,{children:[Object(W.jsx)(Y,{children:T(t)}),Object(W.jsx)(Y,{children:T(n)}),Object(W.jsx)(Y,{children:T(a)}),Object(W.jsx)(Y,{children:T(r)})]})}),Object(W.jsxs)(X,{children:[!c&&Object(W.jsx)($,{view:"accent",text:"\u0421\u0442\u0430\u0440\u0442",onClick:o}),c&&Object(W.jsx)($,{view:"secondary",text:"\u041f\u0430\u0443\u0437\u0430",onClick:i}),d&&Object(W.jsx)($,{view:"secondary",text:"\u041a\u0440\u0443\u0433",onClick:s,disabled:b>=5}),d&&Object(W.jsx)($,{view:"critical",text:"\u0421\u0442\u043e\u043f",onClick:u})]})]})}));var te,ne=function(){return Object(W.jsxs)(h.a,{children:[Object(W.jsx)(G,{}),Object(W.jsx)(ee,{}),Object(W.jsx)(K,{})]})},ce=n(80),re=function(e){var t=e.children,n=L(),c=Object(N.a)(n,2),r=c[0],a=c[1],i=Object(j.useRef)(),o=Object(j.useRef)(r);return o.current=r,Object(j.useEffect)((function(){console.log("useEffect"),i.current=function(e,t){var n=M(t);return n.on("data",(function(t){var c=t.smart_app_data,r=t.type,a=t.character;c&&(console.log(c),e(c)),"GET_CURRENT_TIME"===c.type&&n.sendAction({type:"CURRENT_TIME",payload:{}}),"character"===r&&e(v(a.id))})),n}(a,(function(){return o.current}))}),[]),Object(W.jsx)(P.Provider,{value:i.current,children:t})},ae=n(17),ie=n(15),oe={sber:Object(f.b)(ae.darkSber),eva:Object(f.b)(ae.darkEva),joy:Object(f.b)(ae.darkJoy)},ue=Object(f.b)(te||(te=Object(l.a)(["\n  html:root {\n    padding-top: 1rem;\n    min-height: 100vh;\n    color: ",";\n    background-color: ",";\n    background-image: ",";\n  }\n"])),ie.f,ie.a,ie.b),se=function(e){var t=e.character,n=Object(j.useMemo)((function(){return oe[t]}),[t]);return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue,{}),Object(W.jsx)(n,{})]})},je=function(e){var t=e.children,n=Object(j.useReducer)(S,y),c=Object(N.a)(n,2),r=c[0],a=c[1];return Object(W.jsxs)(F.Provider,{value:[r,a],children:[Object(W.jsx)(se,{character:r.character}),t]})},be=function(e){var t=e.children;return Object(W.jsx)(je,{children:Object(W.jsx)(re,{children:Object(W.jsx)(ce.a,{children:t})})})};O.a.render(Object(W.jsx)(b.a.StrictMode,{children:Object(W.jsx)(be,{children:Object(W.jsx)(ne,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.bc2cb918.chunk.js.map